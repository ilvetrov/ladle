!function(){return function t(e,n,i){function r(a,c){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}}()({1:[function(t,e,n){"use strict";t("./partials/object-extended"),t("./partials/async-img"),t("./partials/quiz").Quiz.initAll()},{"./partials/async-img":2,"./partials/object-extended":6,"./partials/quiz":8}],2:[function(t,e,n){"use strict";for(var i,r=t("./check-disabled").checkDisabled,o=t("./distance-checking").checkThatObjectIsInScrollArea,a=t("./optimized-scroll-event").OptimizedScroll,c=t("./remove-from-array").removeFromArray,s=Number(null===(i=document.querySelector('[meta="max-parallel-high-loads"]'))||void 0===i?void 0:i.content)||4e5,u=document.querySelectorAll("[data-async-image]"),l=("loading"in HTMLImageElement.prototype),f=document.querySelectorAll("[data-async-image-group]"),d=function(){return document.getElementsByClassName("js-async-background-group")[0]},m=function(t){var e=f[t],n=JSON.parse(e.getAttribute("data-async-image-group")),i="async-background-".concat(t);e.classList.add(i),window.addEventListener("load",function(){E(e,n[0],function(){var t=function(t){if(Object.hasOwnProperty.call(n,t)){var e=n[t];q(e,function(){return requestAnimationFrame(function(){d().innerHTML=d().innerHTML+"\n              @media (min-width: ".concat(t,"px) {\n                .").concat(i," {\n                  background-image: url(").concat(e.src,");\n                }\n              }\n              ")})})}};for(var e in n)t(e)})})},h=0;h<f.length;h++)m(h);var v=[],g=Date.now(),b=new Proxy([],{set:function(t,e,n,i){return t[e]=n,g=Date.now(),!0},deleteProperty:function(t,e){return g=Date.now(),!0}}),p=[],k=[];function y(t){var e=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];if(!t.hasAttribute("data-async-image"))return"not for async";var n,i=JSON.parse(t.getAttribute("data-async-image"));i.manual&&!e||(n=i.isBackground?function(){!function(t,e){function n(){requestAnimationFrame(function(){A(t,e)})}E(e,t,function(){return q(t,n)})}(i,t)}:function(){!function(t,e){!l||t.isHigh||r(e)?E(e,t,function(){return q(t,n)}):n();function n(){requestAnimationFrame(function(){x(t,e)})}}(i,t)},r(t)&&v.push({linkProperties:i,imageElement:t,callback:function(){return q(i,function(){return i.isBackground?A(i,t):x(i,t)})}}),e?n():window.addEventListener("load",n))}function E(t,e,n){setTimeout(function(){if(!e.scroll)return w(t,e,n);if(o(t,800))w(t,e,n);else var i=!1,r=window.addEventListener(a.defaultEventName,function(){!i&&o(t,800)&&(i=!0,w(t,e,n),setTimeout(function(){return requestAnimationFrame(function(){return window.removeEventListener(a.defaultEventName,r)})},0))})},100)}function w(t,e,n){if(r(t))var i=setInterval(function(){r(t)||(clearInterval(i),e.isHigh?N({linkProperties:e,imageElement:t,callback:n}):n())},500);else e.isHigh?N({linkProperties:e,imageElement:t,callback:n}):n()}function A(t,e){e.style.backgroundImage="url(".concat(t.src,")")}function x(t,e){e.src=t.src}function q(t,e){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];b.push(t);var i=new Image;i.src=t.src,i.onload=function(){e(),v=v.filter(function(e){return e.linkProperties.src!==t.src}),c(b,t)},["abort","error","suspend"].map(function(e){i.addEventListener(e,function(){n&&n(),v=v.filter(function(e){return e.linkProperties.src!==t.src}),c(b,t)})})}function L(){if(!(k.length>=s||0===p.length)){var t=p[0];k.push(t),p.splice(0,1),requestAnimationFrame(function(){return q(t.linkProperties,function(){t.callback(),c(k,t),setTimeout(function(){L()},0)},function(){c(k,t),setTimeout(function(){L()},0)})})}}function N(t){p.find(function(e){return e.imageElement===t.imageElement})||t.linkProperties.src===t.imageElement.src||p.push(t)}!function(){for(var t=0;t<u.length;t++){var e=u[t];y(e,!1)}}(),window.addEventListener("load",function(){setTimeout(function(){return setInterval(function(){return requestAnimationFrame(L)},1e3)},2e3)}),window.addEventListener("load",function(){var t=setInterval(function(){if(0===b.length&&g>2e3&&window.scrollY>400){clearInterval(t);for(var e=0;e<v.length;e++){var n=v[e];N({linkProperties:n.linkProperties,imageElement:n.imageElement,callback:n.callback})}}},1e3)}),e.exports={initAsyncImg:y}},{"./check-disabled":3,"./distance-checking":4,"./optimized-scroll-event":7,"./remove-from-array":9}],3:[function(t,e,n){"use strict";e.exports={checkDisabled:function(t){var e=t.getBoundingClientRect();return 0===e.x&&0===e.y&&0===e.left&&0===e.right&&0===e.top&&0===e.bottom&&0===e.height&&0===e.width}}},{}],4:[function(t,e,n){"use strict";e.exports={checkThatObjectIsInScrollArea:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:200,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e;return t.getBoundingClientRect().y-e<=window.innerHeight&&t.getBoundingClientRect().y+n+t.offsetHeight>0||!1},checkTopElementVisibility:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,n=window.pageYOffset+window.innerHeight;return window.pageYOffset+t.getBoundingClientRect().y<n&&t.getBoundingClientRect().y>e},checkElementVisibilityByScreenCenter:function(t){var e=window.pageYOffset+window.innerHeight/2;return window.pageYOffset+t.getBoundingClientRect().y<e}}},{}],5:[function(t,e,n){"use strict";e.exports={lookAtMeAnimation:function(t){t&&(t.classList.contains("look-at-me")||(t.classList.add("look-at-me"),setTimeout(function(){requestAnimationFrame(function(){t.classList.remove("look-at-me")})},750)))},lookAtMeInlineAnimation:function(t){t&&(t.classList.contains("look-at-me-inline")||(t.classList.add("look-at-me-inline"),setTimeout(function(){requestAnimationFrame(function(){t.classList.remove("look-at-me-inline")})},750)))}}},{}],6:[function(t,e,n){"use strict";Object.prototype.map=function(t){var e={};for(var n in this)if(Object.hasOwnProperty.call(this,n)){var i=this[n];e[n]=t(i,n)}return e}},{}],7:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"dynamicEventName",value:function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window,i=t.createName(e);return-1===t.allEvents.indexOf(i)&&t.createNewEvent(e,n),i}},{key:"createName",value:function(e){return t.namePrefix+e}},{key:"createNewEvent",value:function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window,i=t.createName(e),r=new CustomEvent(i);t.allEvents.push(i);var o=!1;n.addEventListener("scroll",function(){o=!0},{passive:!0}),setInterval(function(){o&&(o=!1,n.dispatchEvent(r))},e)}}],(n=null)&&i(e.prototype,n),r&&i(e,r),t}();r(o,"namePrefix","scroll-optimized-"),r(o,"allEvents",[]),r(o,"defaultEventName",o.dynamicEventName(300)),e.exports={OptimizedScroll:o}},{}],8:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=t("./look-at-me").lookAtMeAnimation,s=function(){function t(e){i(this,t),this.name=t.getName(e),this.blocksElements=document.querySelectorAll('[data-quiz-block][data-quiz-of="'.concat(this.name,'"]')),this.blocks=u.initAll(this.name,this.blocksElements),this.toButtons=document.querySelectorAll('[data-quiz-to][data-quiz-of="'.concat(this.name,'"]')),this.currentPosition=0,this.isInSwitching=!1,this.initToButtons(this.toButtons),this.actionExistsSubscribersElements=document.querySelectorAll('[data-quiz-action-subscribe][data-quiz-of="'.concat(this.name,'"]')),this.actionExistsSubscribers=this.initActionExistsSubscribers(this.actionExistsSubscribersElements),this.actionExistsButtons=document.querySelectorAll('[data-quiz-action-exists][data-quiz-of="'.concat(this.name,'"]')),this.initActionExistsButtons(this.actionExistsButtons)}return o(t,[{key:"initToButtons",value:function(t){var e=this;t.forEach(function(t){var n=Number(t.getAttribute("data-quiz-to"));t.addEventListener("click",function(){t.classList.contains("blocked")?c(e.blocks[e.currentPosition].contentElement):e.isInSwitching||(e.isInSwitching=!0,e.currentPosition=n,u.hideAll(e.name,n).then(function(){return e.isInSwitching=!1}))})})}},{key:"initActionExistsButtons",value:function(e){var n=this;e.forEach(function(i){i.addEventListener(t.getChangingEvent(i),function(){for(var i=!1,r=0;r<e.length;r++){var o=e[r];if(t.checkThatActionExists(o)){i=!0;break}}i?n.actionExistsSubscribers.forEach(function(t){return t.actionHandler()}):n.actionExistsSubscribers.forEach(function(t){return t.nonActionHandler()})})})}},{key:"initActionExistsSubscribers",value:function(t){return Array.from(t).map(function(t){return t.actionHandler=function(){return l[t.getAttribute("data-quiz-action-handler")](t)},t.nonActionHandler=function(){return l[t.getAttribute("data-quiz-non-action-handler")](t)},t})}}],[{key:"detectInsertingType",value:function(t){switch(t.tagName){case"INPUT":switch(t.getAttribute("type")){case"checkbox":return"checkbox"}}}},{key:"checkThatActionExists",value:function(e){switch(t.detectInsertingType(e)){case"checkbox":return e.checked}}},{key:"getChangingEvent",value:function(e){switch(t.detectInsertingType(e)){case"checkbox":return"input"}}},{key:"initAll",value:function(){document.querySelectorAll("[data-quiz]").forEach(function(e){t.all[t.getName(e)]=new t(e)})}}]),t}();a(s,"getName",function(t){return t.getAttribute("data-quiz")}),a(s,"all",{});var u=function(){function t(e){i(this,t),this.blockElement=e,this.contentElement=(e.getElementsByClassName("quiz__content")||[])[0],this.order=Number(e.getAttribute("data-quiz-block")),this.isObedient=e.classList.contains("obedient")}return o(t,[{key:"hide",value:function(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0];this.blockElement.classList.add("hidden-"+(t?"right":"left")),this.blockElement.classList.remove("hidden-"+(t?"left":"right"))}},{key:"show",value:function(){this.blockElement.classList.remove("hidden-right"),this.blockElement.classList.remove("hidden-left")}}],[{key:"hideAll",value:function(t,e){var n=this,i=this.all[t],r="number"==typeof e?e:e.order;for(var o in i)Object.hasOwnProperty.call(i,o)&&function(){var t=i[o];r===t.order?setTimeout(function(){t.show()},n.trasitionForHidden):t.hide(r<t.order)}();return new Promise(function(t,e){return setTimeout(function(){t()},n.trasitionForHidden)})}},{key:"initAll",value:function(e,n){return n.forEach(function(n){t.all[e]||(t.all[e]={}),t.all[e][Number(n.getAttribute("data-quiz-block"))]=new t(n)}),t.all[e]}}]),t}();a(u,"trasitionForHidden",200),a(u,"all",{});var l={activateNextButton:function(t){var e;t.classList.remove("blocked"),t.classList.add("mini-button_accent"),null===(e=(t.getElementsByClassName("flare")||[])[0])||void 0===e||e.classList.add("activated")},deactivateNextButton:function(t){var e;t.classList.add("blocked"),t.classList.remove("mini-button_accent"),null===(e=(t.getElementsByClassName("flare")||[])[0])||void 0===e||e.classList.remove("activated")}};e.exports={Quiz:s}},{"./look-at-me":5}],9:[function(t,e,n){"use strict";e.exports={removeFromArray:function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}},{}]},{},[1]);